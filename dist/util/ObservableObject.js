// Generated by CoffeeScript 2.2.2
(function() {
  var ObservableObject;

  module.exports = ObservableObject = class ObservableObject {
    constructor() {
      this.on = this.on.bind(this);
      this._emit = this._emit.bind(this);
      this.__events = {};
    }

    on(name, callback) {
      if (!this.__events[name]) {
        this.__events[name] = [];
      }
      this.__events[name].push(callback);
      return this;
    }

    _emit(name, ...params) {
      var callback, callbacks, i, len, ref;
      //#######################################
      //|
      //|  Trigger an event.
      //|
      //|  @params {string} event's name
      //|  @params {*...}   params...
      //|
      //|  @return {ObservableObject} this
      //|
      //#######################################
      callbacks = (ref = this.__events[name]) != null ? ref : [];
      for (i = 0, len = callbacks.length; i < len; i++) {
        callback = callbacks[i];
        callback(...params);
      }
      return this;
    }

  };

}).call(this);
